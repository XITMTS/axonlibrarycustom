--[[
	â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
	â•‘                    AXON UI LIBRARY v2.0                      â•‘
	â•‘              Built from scratch for Axon Hub                 â•‘
	â•‘         Pure code-generated â€¢ Zero asset dependencies        â•‘
	â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	
	Features:
	  â€¢ 100% code-generated UI (no rbxassetid models needed)
	  â€¢ Axon Hub dark purple/violet aesthetic
	  â€¢ Smooth animations with spring-like tweens
	  â€¢ Draggable window with snap-back
	  â€¢ Tab system with icon support
	  â€¢ Toggle (checkbox style with âœ“)
	  â€¢ Slider with gradient progress
	  â€¢ Dropdown (single & multi-select)
	  â€¢ Button with ripple effect
	  â€¢ Input field
	  â€¢ Keybind selector
	  â€¢ Label, Paragraph, Section, Divider
	  â€¢ Notification system
	  â€¢ Configuration saving (JSON)
	  â€¢ Minimize / Hide / Destroy
	  â€¢ Search elements
	  â€¢ Mobile-friendly
	
	Usage:
	  local Axon = loadstring(...)()
	  local Window = Axon:CreateWindow({ Name = "My Hub", ... })
	  local Tab = Window:CreateTab("Main", "home")
	  Tab:CreateToggle({ Name = "Auto Farm", ... })
]]

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- SERVICES
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function getService(name)
	local svc = game:GetService(name)
	return if cloneref then cloneref(svc) else svc
end

local Players = getService("Players")
local TweenService = getService("TweenService")
local UserInputService = getService("UserInputService")
local RunService = getService("RunService")
local HttpService = getService("HttpService")
local CoreGui = getService("CoreGui")
local TextService = getService("TextService")

local Player = Players.LocalPlayer
local Mouse = Player:GetMouse()

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- CONFIGURATION
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local LIBRARY_NAME = "Axon"
local LIBRARY_VERSION = "2.0"
local CONFIG_FOLDER = "AxonHub"
local CONFIG_EXT = ".axon"

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- THEME â€” Axon Hub Brand Colors
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Theme = {
	-- Core
	Background = Color3.fromRGB(7, 8, 20),        -- #070814
	TopBar = Color3.fromRGB(12, 13, 28),           -- Slightly lighter
	Shadow = Color3.fromRGB(3, 3, 10),
	Border = Color3.fromRGB(255, 255, 255),        -- 10% opacity strokes
	
	-- Accent (Purple)
	Accent = Color3.fromRGB(168, 85, 247),         -- #a855f7
	AccentDark = Color3.fromRGB(124, 58, 237),     -- #7c3aed
	AccentGlow = Color3.fromRGB(168, 85, 247),     -- For glows
	
	-- Text
	Text = Color3.fromRGB(245, 246, 255),          -- #f5f6ff
	TextMuted = Color3.fromRGB(160, 162, 185),     -- 65% opacity feel
	TextDimmed = Color3.fromRGB(115, 118, 145),    -- 45% opacity feel
	
	-- Elements
	Element = Color3.fromRGB(14, 15, 32),
	ElementHover = Color3.fromRGB(20, 22, 42),
	ElementStroke = Color3.fromRGB(30, 32, 55),
	SecondaryElement = Color3.fromRGB(11, 12, 26),
	
	-- Tab
	TabBg = Color3.fromRGB(16, 17, 35),
	TabStroke = Color3.fromRGB(28, 30, 52),
	TabSelected = Color3.fromRGB(168, 85, 247),
	TabText = Color3.fromRGB(140, 142, 165),
	TabSelectedText = Color3.fromRGB(255, 255, 255),
	
	-- Toggle
	ToggleBg = Color3.fromRGB(18, 19, 38),
	ToggleOn = Color3.fromRGB(168, 85, 247),
	ToggleOff = Color3.fromRGB(35, 37, 58),
	ToggleOnStroke = Color3.fromRGB(190, 120, 255),
	ToggleOffStroke = Color3.fromRGB(50, 52, 72),
	
	-- Slider
	SliderBg = Color3.fromRGB(22, 24, 44),
	SliderProgress = Color3.fromRGB(168, 85, 247),
	SliderStroke = Color3.fromRGB(40, 42, 65),
	
	-- Input
	InputBg = Color3.fromRGB(16, 17, 35),
	InputStroke = Color3.fromRGB(35, 37, 58),
	Placeholder = Color3.fromRGB(90, 92, 115),
	
	-- Dropdown
	DropdownSelected = Color3.fromRGB(25, 22, 48),
	DropdownUnselected = Color3.fromRGB(14, 15, 32),
	
	-- Notification
	NotifBg = Color3.fromRGB(12, 13, 28),
	NotifSuccess = Color3.fromRGB(16, 185, 129),
	NotifWarning = Color3.fromRGB(245, 158, 11),
	NotifError = Color3.fromRGB(239, 68, 68),
	
	-- Font
	Font = Enum.Font.GothamBold,
	FontLight = Enum.Font.Gotham,
	FontMono = Enum.Font.Code,
}

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- UTILITY FUNCTIONS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function callSafe(fn, ...)
	if fn then
		local ok, res = pcall(fn, ...)
		return ok and res
	end
end

local function ensureFolder(path)
	if isfolder and not callSafe(isfolder, path) then
		callSafe(makefolder, path)
	end
end

local function tween(obj, info, props)
	local t = TweenService:Create(obj, info, props)
	t:Play()
	return t
end

local function quickTween(obj, duration, props, style, dir)
	style = style or Enum.EasingStyle.Exponential
	dir = dir or Enum.EasingDirection.Out
	return tween(obj, TweenInfo.new(duration, style, dir), props)
end

local function createCorner(parent, radius)
	local c = Instance.new("UICorner")
	c.CornerRadius = UDim.new(0, radius or 8)
	c.Parent = parent
	return c
end

local function createStroke(parent, color, thickness, transparency)
	local s = Instance.new("UIStroke")
	s.Color = color or Theme.ElementStroke
	s.Thickness = thickness or 1
	s.Transparency = transparency or 0.85
	s.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
	s.Parent = parent
	return s
end

local function createPadding(parent, t, b, l, r)
	local p = Instance.new("UIPadding")
	p.PaddingTop = UDim.new(0, t or 0)
	p.PaddingBottom = UDim.new(0, b or 0)
	p.PaddingLeft = UDim.new(0, l or 0)
	p.PaddingRight = UDim.new(0, r or 0)
	p.Parent = parent
	return p
end

local function createListLayout(parent, padding, fillDir, hAlign, vAlign, sortOrder)
	local l = Instance.new("UIListLayout")
	l.Padding = UDim.new(0, padding or 6)
	l.FillDirection = fillDir or Enum.FillDirection.Vertical
	l.HorizontalAlignment = hAlign or Enum.HorizontalAlignment.Center
	l.VerticalAlignment = vAlign or Enum.VerticalAlignment.Top
	l.SortOrder = sortOrder or Enum.SortOrder.LayoutOrder
	l.Parent = parent
	return l
end

local function createGradient(parent, c1, c2, rotation)
	local g = Instance.new("UIGradient")
	g.Color = ColorSequence.new({
		ColorSequenceKeypoint.new(0, c1),
		ColorSequenceKeypoint.new(1, c2),
	})
	g.Rotation = rotation or 135
	g.Parent = parent
	return g
end

local function createShadow(parent)
	-- Simulate shadow with a slightly offset, transparent frame
	local shadow = Instance.new("Frame")
	shadow.Name = "Shadow"
	shadow.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	shadow.BackgroundTransparency = 0.7
	shadow.BorderSizePixel = 0
	shadow.Size = UDim2.new(1, 16, 1, 16)
	shadow.Position = UDim2.new(0, -8, 0, -4)
	shadow.ZIndex = parent.ZIndex - 1
	shadow.Parent = parent
	createCorner(shadow, 14)
	return shadow
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- LIBRARY OBJECT
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local AxonLibrary = {
	Flags = {},
	Windows = {},
	Theme = Theme,
	Version = LIBRARY_VERSION,
}

local Connections = {}

local function addConnection(conn)
	table.insert(Connections, conn)
	return conn
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- NOTIFICATION SYSTEM
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local NotificationHolder

local function createNotificationHolder()
	if NotificationHolder then return end
	
	NotificationHolder = Instance.new("ScreenGui")
	NotificationHolder.Name = "AxonNotifications"
	NotificationHolder.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	NotificationHolder.DisplayOrder = 200
	NotificationHolder.ResetOnSpawn = false
	
	if gethui then
		NotificationHolder.Parent = gethui()
	elseif syn and syn.protect_gui then
		syn.protect_gui(NotificationHolder)
		NotificationHolder.Parent = CoreGui
	else
		NotificationHolder.Parent = CoreGui
	end
	
	local holder = Instance.new("Frame")
	holder.Name = "Holder"
	holder.BackgroundTransparency = 1
	holder.Size = UDim2.new(0, 320, 1, -20)
	holder.Position = UDim2.new(1, -330, 0, 10)
	holder.Parent = NotificationHolder
	
	createListLayout(holder, 8, Enum.FillDirection.Vertical, Enum.HorizontalAlignment.Right, Enum.VerticalAlignment.Bottom)
end

function AxonLibrary:Notify(data)
	createNotificationHolder()
	
	task.spawn(function()
		local holder = NotificationHolder.Holder
		
		local notif = Instance.new("Frame")
		notif.Name = data.Title or "Notification"
		notif.BackgroundColor3 = Theme.NotifBg
		notif.BorderSizePixel = 0
		notif.Size = UDim2.new(1, 0, 0, 0)
		notif.ClipsDescendants = true
		notif.Parent = holder
		
		createCorner(notif, 10)
		local stroke = createStroke(notif, Theme.ElementStroke, 1, 0.8)
		
		-- Accent line on left
		local accentLine = Instance.new("Frame")
		accentLine.Name = "AccentLine"
		accentLine.BackgroundColor3 = data.Color or Theme.Accent
		accentLine.BorderSizePixel = 0
		accentLine.Size = UDim2.new(0, 3, 1, -12)
		accentLine.Position = UDim2.new(0, 8, 0, 6)
		accentLine.Parent = notif
		createCorner(accentLine, 2)
		
		-- Title
		local title = Instance.new("TextLabel")
		title.Name = "Title"
		title.Text = data.Title or "Notification"
		title.Font = Theme.Font
		title.TextSize = 13
		title.TextColor3 = Theme.Text
		title.BackgroundTransparency = 1
		title.Size = UDim2.new(1, -30, 0, 18)
		title.Position = UDim2.new(0, 18, 0, 8)
		title.TextXAlignment = Enum.TextXAlignment.Left
		title.TextTransparency = 1
		title.Parent = notif
		
		-- Content
		local content = Instance.new("TextLabel")
		content.Name = "Content"
		content.Text = data.Content or ""
		content.Font = Theme.FontLight
		content.TextSize = 12
		content.TextColor3 = Theme.TextMuted
		content.BackgroundTransparency = 1
		content.Size = UDim2.new(1, -30, 0, 0)
		content.Position = UDim2.new(0, 18, 0, 28)
		content.TextXAlignment = Enum.TextXAlignment.Left
		content.TextYAlignment = Enum.TextYAlignment.Top
		content.TextWrapped = true
		content.AutomaticSize = Enum.AutomaticSize.Y
		content.TextTransparency = 1
		content.Parent = notif
		
		-- Calculate size
		task.wait()
		local contentHeight = math.max(content.TextBounds.Y, 14)
		local totalHeight = 28 + contentHeight + 12
		
		-- Animate in
		quickTween(notif, 0.5, {Size = UDim2.new(1, 0, 0, totalHeight)})
		task.wait(0.1)
		quickTween(title, 0.3, {TextTransparency = 0})
		task.wait(0.05)
		quickTween(content, 0.3, {TextTransparency = 0.3})
		
		-- Wait
		local duration = data.Duration or math.clamp(#(data.Content or "") * 0.08 + 2, 3, 12)
		task.wait(duration)
		
		-- Animate out
		quickTween(title, 0.2, {TextTransparency = 1})
		quickTween(content, 0.2, {TextTransparency = 1})
		quickTween(notif, 0.4, {Size = UDim2.new(1, 0, 0, 0)})
		task.wait(0.5)
		notif:Destroy()
	end)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- MAIN WINDOW
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function AxonLibrary:CreateWindow(Settings)
	Settings = Settings or {}
	Settings.Name = Settings.Name or "Axon Hub"
	Settings.LoadingTitle = Settings.LoadingTitle or "Axon Hub"
	Settings.LoadingSubtitle = Settings.LoadingSubtitle or "Loading..."
	Settings.Size = Settings.Size or UDim2.new(0, 550, 0, 380)
	Settings.Keybind = Settings.Keybind or Enum.KeyCode.RightControl
	Settings.ConfigurationSaving = Settings.ConfigurationSaving or {}
	
	local WindowState = {
		Minimized = false,
		Hidden = false,
		Debounce = false,
		CurrentTab = nil,
		Tabs = {},
	}
	
	-- â”€â”€ ScreenGui â”€â”€
	local ScreenGui = Instance.new("ScreenGui")
	ScreenGui.Name = "AxonHub"
	ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	ScreenGui.DisplayOrder = 100
	ScreenGui.ResetOnSpawn = false
	
	if gethui then
		ScreenGui.Parent = gethui()
	elseif syn and syn.protect_gui then
		syn.protect_gui(ScreenGui)
		ScreenGui.Parent = CoreGui
	else
		ScreenGui.Parent = CoreGui
	end
	
	-- Kill old instances
	local guiParent = ScreenGui.Parent
	for _, gui in ipairs(guiParent:GetChildren()) do
		if gui.Name == "AxonHub" and gui ~= ScreenGui then
			gui:Destroy()
		end
	end
	
	-- â”€â”€ Main Frame â”€â”€
	local Main = Instance.new("Frame")
	Main.Name = "Main"
	Main.BackgroundColor3 = Theme.Background
	Main.BorderSizePixel = 0
	Main.Size = UDim2.new(0, 0, 0, 0)
	Main.Position = UDim2.new(0.5, 0, 0.5, 0)
	Main.AnchorPoint = Vector2.new(0.5, 0.5)
	Main.ClipsDescendants = true
	Main.Parent = ScreenGui
	
	createCorner(Main, 12)
	local mainStroke = createStroke(Main, Theme.Border, 1, 0.88)
	createGradient(Main, Color3.fromRGB(10, 11, 25), Color3.fromRGB(5, 6, 16), 150)
	
	-- Shadow
	local ShadowFrame = createShadow(Main)
	
	-- â”€â”€ Top Bar â”€â”€
	local TopBar = Instance.new("Frame")
	TopBar.Name = "TopBar"
	TopBar.BackgroundColor3 = Theme.TopBar
	TopBar.BorderSizePixel = 0
	TopBar.Size = UDim2.new(1, 0, 0, 42)
	TopBar.Parent = Main
	
	createCorner(TopBar, 12)
	createGradient(TopBar, Color3.fromRGB(14, 15, 32), Color3.fromRGB(10, 11, 24), 90)
	
	-- Corner repair for topbar (make bottom corners square)
	local CornerRepair = Instance.new("Frame")
	CornerRepair.Name = "CornerRepair"
	CornerRepair.BackgroundColor3 = Color3.fromRGB(12, 13, 28)
	CornerRepair.BorderSizePixel = 0
	CornerRepair.Size = UDim2.new(1, 0, 0, 14)
	CornerRepair.Position = UDim2.new(0, 0, 1, -14)
	CornerRepair.ZIndex = TopBar.ZIndex
	CornerRepair.Parent = TopBar
	
	-- Divider line under topbar
	local Divider = Instance.new("Frame")
	Divider.Name = "Divider"
	Divider.BackgroundColor3 = Theme.Accent
	Divider.BackgroundTransparency = 0.7
	Divider.BorderSizePixel = 0
	Divider.Size = UDim2.new(1, 0, 0, 1)
	Divider.Position = UDim2.new(0, 0, 1, 0)
	Divider.Parent = TopBar
	
	-- Title
	local Title = Instance.new("TextLabel")
	Title.Name = "Title"
	Title.Text = Settings.Name
	Title.Font = Theme.Font
	Title.TextSize = 15
	Title.TextColor3 = Theme.Text
	Title.BackgroundTransparency = 1
	Title.Size = UDim2.new(0.5, 0, 1, 0)
	Title.Position = UDim2.new(0, 16, 0, 0)
	Title.TextXAlignment = Enum.TextXAlignment.Left
	Title.Parent = TopBar
	
	-- Top bar buttons container
	local TopButtons = Instance.new("Frame")
	TopButtons.Name = "TopButtons"
	TopButtons.BackgroundTransparency = 1
	TopButtons.Size = UDim2.new(0, 90, 0, 42)
	TopButtons.Position = UDim2.new(1, -95, 0, 0)
	TopButtons.Parent = TopBar
	
	createListLayout(TopButtons, 2, Enum.FillDirection.Horizontal, Enum.HorizontalAlignment.Right, Enum.VerticalAlignment.Center)
	
	local function createTopButton(name, text, callback)
		local btn = Instance.new("TextButton")
		btn.Name = name
		btn.Text = text
		btn.Font = Theme.Font
		btn.TextSize = 16
		btn.TextColor3 = Theme.TextMuted
		btn.BackgroundTransparency = 1
		btn.Size = UDim2.new(0, 28, 0, 28)
		btn.Parent = TopButtons
		
		btn.MouseEnter:Connect(function()
			quickTween(btn, 0.3, {TextColor3 = Theme.Text})
		end)
		btn.MouseLeave:Connect(function()
			quickTween(btn, 0.3, {TextColor3 = Theme.TextMuted})
		end)
		btn.MouseButton1Click:Connect(callback)
		
		return btn
	end
	
	-- â”€â”€ Tab List (Left side) â”€â”€
	local TabListHolder = Instance.new("Frame")
	TabListHolder.Name = "TabListHolder"
	TabListHolder.BackgroundColor3 = Color3.fromRGB(9, 10, 22)
	TabListHolder.BackgroundTransparency = 0.3
	TabListHolder.BorderSizePixel = 0
	TabListHolder.Size = UDim2.new(0, 140, 1, -43)
	TabListHolder.Position = UDim2.new(0, 0, 0, 43)
	TabListHolder.Parent = Main
	
	local TabList = Instance.new("ScrollingFrame")
	TabList.Name = "TabList"
	TabList.BackgroundTransparency = 1
	TabList.Size = UDim2.new(1, 0, 1, -10)
	TabList.Position = UDim2.new(0, 0, 0, 5)
	TabList.ScrollBarThickness = 2
	TabList.ScrollBarImageColor3 = Theme.Accent
	TabList.ScrollBarImageTransparency = 0.6
	TabList.CanvasSize = UDim2.new(0, 0, 0, 0)
	TabList.AutomaticCanvasSize = Enum.AutomaticSize.Y
	TabList.BorderSizePixel = 0
	TabList.Parent = TabListHolder
	
	createListLayout(TabList, 2, Enum.FillDirection.Vertical, Enum.HorizontalAlignment.Center)
	createPadding(TabList, 4, 4, 6, 6)
	
	-- Tab list / elements separator
	local TabSeparator = Instance.new("Frame")
	TabSeparator.Name = "TabSeparator"
	TabSeparator.BackgroundColor3 = Theme.ElementStroke
	TabSeparator.BackgroundTransparency = 0.5
	TabSeparator.BorderSizePixel = 0
	TabSeparator.Size = UDim2.new(0, 1, 1, -43)
	TabSeparator.Position = UDim2.new(0, 140, 0, 43)
	TabSeparator.Parent = Main
	
	-- â”€â”€ Elements Container (Right side) â”€â”€
	local ElementsContainer = Instance.new("Frame")
	ElementsContainer.Name = "ElementsContainer"
	ElementsContainer.BackgroundTransparency = 1
	ElementsContainer.Size = UDim2.new(1, -141, 1, -43)
	ElementsContainer.Position = UDim2.new(0, 141, 0, 43)
	ElementsContainer.ClipsDescendants = true
	ElementsContainer.Parent = Main
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- DRAGGING
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	
	local dragging = false
	local dragOffset = Vector2.zero
	
	addConnection(TopBar.InputBegan:Connect(function(input, processed)
		if processed then return end
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragOffset = Main.AbsolutePosition + Main.AbsoluteSize * Main.AnchorPoint - UserInputService:GetMouseLocation()
		end
	end))
	
	addConnection(UserInputService.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = false
		end
	end))
	
	addConnection(RunService.RenderStepped:Connect(function()
		if dragging and not WindowState.Hidden then
			local pos = UserInputService:GetMouseLocation() + dragOffset
			quickTween(Main, 0.12, {Position = UDim2.fromOffset(pos.X, pos.Y)}, Enum.EasingStyle.Quad)
		end
	end))
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- WINDOW CONTROLS
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	
	local function HideWindow()
		if WindowState.Debounce then return end
		WindowState.Debounce = true
		WindowState.Hidden = true
		
		quickTween(Main, 0.5, {Size = UDim2.new(0, Settings.Size.X.Offset, 0, 0)})
		quickTween(Main, 0.5, {BackgroundTransparency = 1})
		
		task.wait(0.5)
		Main.Visible = false
		WindowState.Debounce = false
	end
	
	local function ShowWindow()
		if WindowState.Debounce then return end
		WindowState.Debounce = true
		WindowState.Hidden = false
		Main.Visible = true
		
		quickTween(Main, 0.5, {Size = Settings.Size})
		quickTween(Main, 0.3, {BackgroundTransparency = 0})
		
		task.wait(0.5)
		WindowState.Debounce = false
	end
	
	local function MinimizeWindow()
		if WindowState.Debounce then return end
		WindowState.Debounce = true
		WindowState.Minimized = true
		
		quickTween(Main, 0.5, {Size = UDim2.new(0, Settings.Size.X.Offset, 0, 42)})
		TabListHolder.Visible = false
		TabSeparator.Visible = false
		ElementsContainer.Visible = false
		
		task.wait(0.5)
		WindowState.Debounce = false
	end
	
	local function MaximizeWindow()
		if WindowState.Debounce then return end
		WindowState.Debounce = true
		WindowState.Minimized = false
		
		TabListHolder.Visible = true
		TabSeparator.Visible = true
		ElementsContainer.Visible = true
		quickTween(Main, 0.5, {Size = Settings.Size})
		
		task.wait(0.5)
		WindowState.Debounce = false
	end
	
	-- Top bar buttons
	local CloseBtn = createTopButton("Close", "âœ•", function()
		HideWindow()
	end)
	
	local MinBtn = createTopButton("Minimize", "â”€", function()
		if WindowState.Minimized then
			MaximizeWindow()
		else
			MinimizeWindow()
		end
	end)
	
	-- Keybind to toggle
	addConnection(UserInputService.InputBegan:Connect(function(input, processed)
		if processed then return end
		local keybind = Settings.Keybind
		if typeof(keybind) == "string" then
			keybind = Enum.KeyCode[keybind]
		end
		if input.KeyCode == keybind then
			if WindowState.Hidden then
				ShowWindow()
			else
				HideWindow()
			end
		end
	end))
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- CONFIGURATION SAVING
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	
	local CFileName = Settings.ConfigurationSaving.FileName or tostring(game.PlaceId)
	local CEnabled = Settings.ConfigurationSaving.Enabled or false
	local ConfigFolder = Settings.ConfigurationSaving.FolderName or CONFIG_FOLDER .. "/Configs"
	local GlobalLoaded = false
	
	local function SaveConfiguration()
		if not CEnabled or not GlobalLoaded then return end
		
		local data = {}
		for flag, element in pairs(AxonLibrary.Flags) do
			if element.Type == "ColorPicker" then
				data[flag] = {R = element.Color.R * 255, G = element.Color.G * 255, B = element.Color.B * 255}
			elseif element.CurrentValue ~= nil then
				data[flag] = element.CurrentValue
			elseif element.CurrentKeybind then
				data[flag] = element.CurrentKeybind
			elseif element.CurrentOption then
				data[flag] = element.CurrentOption
			end
		end
		
		callSafe(writefile, ConfigFolder .. "/" .. CFileName .. CONFIG_EXT, HttpService:JSONEncode(data))
	end
	
	local function LoadConfiguration()
		if not CEnabled then GlobalLoaded = true return end
		
		ensureFolder(CONFIG_FOLDER)
		ensureFolder(ConfigFolder)
		
		local file = callSafe(readfile, ConfigFolder .. "/" .. CFileName .. CONFIG_EXT)
		if not file then GlobalLoaded = true return end
		
		local ok, data = pcall(function() return HttpService:JSONDecode(file) end)
		if not ok then GlobalLoaded = true return end
		
		for flag, value in pairs(data) do
			if AxonLibrary.Flags[flag] then
				task.spawn(function()
					pcall(function()
						AxonLibrary.Flags[flag]:Set(value)
					end)
				end)
			end
		end
		
		GlobalLoaded = true
	end
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- LOADING ANIMATION
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	
	-- Start small, expand with loading text
	Main.Size = UDim2.new(0, 280, 0, 80)
	Main.BackgroundTransparency = 1
	
	local LoadingTitle = Instance.new("TextLabel")
	LoadingTitle.Name = "LoadingTitle"
	LoadingTitle.Text = Settings.LoadingTitle
	LoadingTitle.Font = Theme.Font
	LoadingTitle.TextSize = 18
	LoadingTitle.TextColor3 = Theme.Text
	LoadingTitle.BackgroundTransparency = 1
	LoadingTitle.Size = UDim2.new(1, 0, 0, 24)
	LoadingTitle.Position = UDim2.new(0, 0, 0.5, -16)
	LoadingTitle.TextTransparency = 1
	LoadingTitle.Parent = Main
	
	local LoadingSub = Instance.new("TextLabel")
	LoadingSub.Name = "LoadingSub"
	LoadingSub.Text = Settings.LoadingSubtitle
	LoadingSub.Font = Theme.FontLight
	LoadingSub.TextSize = 12
	LoadingSub.TextColor3 = Theme.TextMuted
	LoadingSub.BackgroundTransparency = 1
	LoadingSub.Size = UDim2.new(1, 0, 0, 18)
	LoadingSub.Position = UDim2.new(0, 0, 0.5, 8)
	LoadingSub.TextTransparency = 1
	LoadingSub.Parent = Main
	
	-- Loading bar
	local LoadingBarBg = Instance.new("Frame")
	LoadingBarBg.Name = "LoadingBarBg"
	LoadingBarBg.BackgroundColor3 = Theme.SliderBg
	LoadingBarBg.BorderSizePixel = 0
	LoadingBarBg.Size = UDim2.new(0.6, 0, 0, 3)
	LoadingBarBg.Position = UDim2.new(0.2, 0, 0.5, 30)
	LoadingBarBg.BackgroundTransparency = 1
	LoadingBarBg.Parent = Main
	createCorner(LoadingBarBg, 2)
	
	local LoadingBar = Instance.new("Frame")
	LoadingBar.Name = "LoadingBar"
	LoadingBar.BackgroundColor3 = Theme.Accent
	LoadingBar.BorderSizePixel = 0
	LoadingBar.Size = UDim2.new(0, 0, 1, 0)
	LoadingBar.Parent = LoadingBarBg
	createCorner(LoadingBar, 2)
	createGradient(LoadingBar, Theme.AccentDark, Theme.Accent, 0)
	
	-- Animate loading
	task.spawn(function()
		quickTween(Main, 0.6, {BackgroundTransparency = 0, Size = UDim2.new(0, 300, 0, 100)})
		task.wait(0.2)
		quickTween(LoadingTitle, 0.5, {TextTransparency = 0})
		task.wait(0.1)
		quickTween(LoadingSub, 0.5, {TextTransparency = 0.3})
		quickTween(LoadingBarBg, 0.3, {BackgroundTransparency = 0.5})
		task.wait(0.2)
		quickTween(LoadingBar, 1.2, {Size = UDim2.new(1, 0, 1, 0)}, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut)
		task.wait(1.4)
		
		-- Transition to full window
		quickTween(LoadingTitle, 0.2, {TextTransparency = 1})
		quickTween(LoadingSub, 0.2, {TextTransparency = 1})
		quickTween(LoadingBarBg, 0.2, {BackgroundTransparency = 1})
		task.wait(0.3)
		
		LoadingTitle:Destroy()
		LoadingSub:Destroy()
		LoadingBarBg:Destroy()
		
		-- Expand to full size
		quickTween(Main, 0.6, {Size = Settings.Size})
		task.wait(0.3)
		
		-- Show topbar
		TopBar.Visible = true
		quickTween(Divider, 0.8, {Size = UDim2.new(1, 0, 0, 1)})
		quickTween(Title, 0.5, {TextTransparency = 0})
		
		task.wait(0.3)
		
		-- Show content
		TabListHolder.Visible = true
		TabSeparator.Visible = true
		ElementsContainer.Visible = true
		
		-- Select first tab
		if WindowState.Tabs[1] then
			WindowState.Tabs[1].Select()
		end
		
		-- Load config
		task.delay(1, LoadConfiguration)
	end)
	
	-- Initially hide content
	TabListHolder.Visible = false
	TabSeparator.Visible = false
	ElementsContainer.Visible = false
	Title.TextTransparency = 1
	Divider.Size = UDim2.new(0, 0, 0, 1)
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- WINDOW API
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	
	local Window = {}
	
	function Window:CreateTab(TabName, TabIcon)
		TabName = TabName or "Tab"
		
		-- Tab button
		local TabButton = Instance.new("TextButton")
		TabButton.Name = TabName
		TabButton.Text = ""
		TabButton.BackgroundColor3 = Theme.TabBg
		TabButton.BackgroundTransparency = 0.5
		TabButton.BorderSizePixel = 0
		TabButton.Size = UDim2.new(1, 0, 0, 32)
		TabButton.AutoButtonColor = false
		TabButton.Parent = TabList
		
		createCorner(TabButton, 6)
		local tabStroke = createStroke(TabButton, Theme.TabStroke, 1, 0.8)
		
		-- Tab icon (text emoji for now, can be replaced with image)
		local iconMap = {
			home = "ğŸ ", settings = "âš™ï¸", farm = "ğŸŒ¾", combat = "âš”ï¸", 
			player = "ğŸ‘¤", misc = "ğŸ“¦", info = "â„¹ï¸", star = "â­",
			tools = "ğŸ”§", world = "ğŸŒ", shop = "ğŸ›’", key = "ğŸ”‘",
			shield = "ğŸ›¡ï¸", target = "ğŸ¯", zap = "âš¡", heart = "â¤ï¸",
			script = "ğŸ“œ", bot = "ğŸ¤–", game = "ğŸ®", money = "ğŸ’°",
		}
		
		local TabIconLabel = Instance.new("TextLabel")
		TabIconLabel.Name = "Icon"
		TabIconLabel.Text = iconMap[tostring(TabIcon)] or (type(TabIcon) == "string" and TabIcon or "â€¢")
		TabIconLabel.Font = Enum.Font.SourceSans
		TabIconLabel.TextSize = 14
		TabIconLabel.TextColor3 = Theme.TabText
		TabIconLabel.BackgroundTransparency = 1
		TabIconLabel.Size = UDim2.new(0, 24, 1, 0)
		TabIconLabel.Position = UDim2.new(0, 8, 0, 0)
		TabIconLabel.Parent = TabButton
		
		local TabTitle = Instance.new("TextLabel")
		TabTitle.Name = "Title"
		TabTitle.Text = TabName
		TabTitle.Font = Theme.Font
		TabTitle.TextSize = 12
		TabTitle.TextColor3 = Theme.TabText
		TabTitle.BackgroundTransparency = 1
		TabTitle.Size = UDim2.new(1, -40, 1, 0)
		TabTitle.Position = UDim2.new(0, 32, 0, 0)
		TabTitle.TextXAlignment = Enum.TextXAlignment.Left
		TabTitle.TextTruncate = Enum.TextTruncate.AtEnd
		TabTitle.Parent = TabButton
		
		-- Elements page for this tab
		local TabPage = Instance.new("ScrollingFrame")
		TabPage.Name = TabName
		TabPage.BackgroundTransparency = 1
		TabPage.Size = UDim2.new(1, 0, 1, 0)
		TabPage.ScrollBarThickness = 3
		TabPage.ScrollBarImageColor3 = Theme.Accent
		TabPage.ScrollBarImageTransparency = 0.5
		TabPage.CanvasSize = UDim2.new(0, 0, 0, 0)
		TabPage.AutomaticCanvasSize = Enum.AutomaticSize.Y
		TabPage.BorderSizePixel = 0
		TabPage.Visible = false
		TabPage.Parent = ElementsContainer
		
		createListLayout(TabPage, 6)
		createPadding(TabPage, 8, 8, 8, 8)
		
		-- Selection logic
		local function SelectTab()
			-- Deselect all
			for _, tab in ipairs(WindowState.Tabs) do
				tab.Deselect()
			end
			
			-- Select this
			TabPage.Visible = true
			WindowState.CurrentTab = TabName
			
			quickTween(TabButton, 0.4, {BackgroundTransparency = 0, BackgroundColor3 = Theme.TabSelected})
			quickTween(tabStroke, 0.4, {Transparency = 1})
			quickTween(TabTitle, 0.3, {TextColor3 = Theme.TabSelectedText})
			quickTween(TabIconLabel, 0.3, {TextColor3 = Theme.TabSelectedText})
		end
		
		local function DeselectTab()
			TabPage.Visible = false
			quickTween(TabButton, 0.4, {BackgroundTransparency = 0.5, BackgroundColor3 = Theme.TabBg})
			quickTween(tabStroke, 0.4, {Transparency = 0.8})
			quickTween(TabTitle, 0.3, {TextColor3 = Theme.TabText})
			quickTween(TabIconLabel, 0.3, {TextColor3 = Theme.TabText})
		end
		
		TabButton.MouseButton1Click:Connect(SelectTab)
		
		TabButton.MouseEnter:Connect(function()
			if WindowState.CurrentTab ~= TabName then
				quickTween(TabButton, 0.3, {BackgroundTransparency = 0.2})
			end
		end)
		
		TabButton.MouseLeave:Connect(function()
			if WindowState.CurrentTab ~= TabName then
				quickTween(TabButton, 0.3, {BackgroundTransparency = 0.5})
			end
		end)
		
		local tabData = {
			Select = SelectTab,
			Deselect = DeselectTab,
			Name = TabName,
			Page = TabPage,
		}
		table.insert(WindowState.Tabs, tabData)
		
		-- If first tab, auto-select
		if #WindowState.Tabs == 1 then
			task.defer(SelectTab)
		end
		
		-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
		-- TAB ELEMENT API
		-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
		
		local Tab = {}
		
		-- Helper: Create base element frame
		local function createElementFrame(name, height)
			local frame = Instance.new("Frame")
			frame.Name = name
			frame.BackgroundColor3 = Theme.Element
			frame.BorderSizePixel = 0
			frame.Size = UDim2.new(1, 0, 0, height or 38)
			frame.ClipsDescendants = true
			frame.Parent = TabPage
			
			createCorner(frame, 8)
			local stroke = createStroke(frame, Theme.ElementStroke, 1, 0.85)
			createGradient(frame, Color3.fromRGB(16, 17, 36), Color3.fromRGB(12, 13, 28), 120)
			
			-- Hover effect
			frame.MouseEnter:Connect(function()
				quickTween(frame, 0.3, {BackgroundColor3 = Theme.ElementHover})
			end)
			frame.MouseLeave:Connect(function()
				quickTween(frame, 0.3, {BackgroundColor3 = Theme.Element})
			end)
			
			return frame, stroke
		end
		
		-- â”€â”€ Section â”€â”€
		function Tab:CreateSection(SectionName)
			local sectionValue = {}
			
			local Section = Instance.new("Frame")
			Section.Name = "Section"
			Section.BackgroundTransparency = 1
			Section.Size = UDim2.new(1, 0, 0, 22)
			Section.Parent = TabPage
			
			local SectionTitle = Instance.new("TextLabel")
			SectionTitle.Name = "Title"
			SectionTitle.Text = string.upper(SectionName or "Section")
			SectionTitle.Font = Theme.Font
			SectionTitle.TextSize = 10
			SectionTitle.TextColor3 = Theme.TextDimmed
			SectionTitle.BackgroundTransparency = 1
			SectionTitle.Size = UDim2.new(1, -16, 1, 0)
			SectionTitle.Position = UDim2.new(0, 8, 0, 0)
			SectionTitle.TextXAlignment = Enum.TextXAlignment.Left
			SectionTitle.Parent = Section
			
			function sectionValue:Set(newName)
				SectionTitle.Text = string.upper(newName)
			end
			
			return sectionValue
		end
		
		-- â”€â”€ Divider â”€â”€
		function Tab:CreateDivider()
			local dividerValue = {}
			
			local DivHolder = Instance.new("Frame")
			DivHolder.Name = "Divider"
			DivHolder.BackgroundTransparency = 1
			DivHolder.Size = UDim2.new(1, 0, 0, 8)
			DivHolder.Parent = TabPage
			
			local DivLine = Instance.new("Frame")
			DivLine.Name = "Line"
			DivLine.BackgroundColor3 = Theme.ElementStroke
			DivLine.BackgroundTransparency = 0.5
			DivLine.BorderSizePixel = 0
			DivLine.Size = UDim2.new(1, -16, 0, 1)
			DivLine.Position = UDim2.new(0, 8, 0.5, 0)
			DivLine.Parent = DivHolder
			
			function dividerValue:Set(visible)
				DivHolder.Visible = visible
			end
			
			return dividerValue
		end
		
		-- â”€â”€ Label â”€â”€
		function Tab:CreateLabel(LabelText, Color)
			local labelValue = {}
			
			local Label = Instance.new("Frame")
			Label.Name = "Label"
			Label.BackgroundColor3 = Color or Theme.SecondaryElement
			Label.BorderSizePixel = 0
			Label.Size = UDim2.new(1, 0, 0, 32)
			Label.Parent = TabPage
			
			createCorner(Label, 6)
			createStroke(Label, Color or Theme.ElementStroke, 1, 0.8)
			
			local LabelTitle = Instance.new("TextLabel")
			LabelTitle.Name = "Title"
			LabelTitle.Text = LabelText or "Label"
			LabelTitle.Font = Theme.FontLight
			LabelTitle.TextSize = 13
			LabelTitle.TextColor3 = Color and Color3.new(1,1,1) or Theme.Text
			LabelTitle.BackgroundTransparency = 1
			LabelTitle.Size = UDim2.new(1, -20, 1, 0)
			LabelTitle.Position = UDim2.new(0, 10, 0, 0)
			LabelTitle.TextXAlignment = Enum.TextXAlignment.Left
			LabelTitle.Parent = Label
			
			function labelValue:Set(newText, newColor)
				LabelTitle.Text = newText
				if newColor then
					Label.BackgroundColor3 = newColor
				end
			end
			
			return labelValue
		end
		
		-- â”€â”€ Paragraph â”€â”€
		function Tab:CreateParagraph(ParagraphSettings)
			local pValue = {}
			
			local Para = Instance.new("Frame")
			Para.Name = "Paragraph"
			Para.BackgroundColor3 = Theme.SecondaryElement
			Para.BorderSizePixel = 0
			Para.Size = UDim2.new(1, 0, 0, 60)
			Para.AutomaticSize = Enum.AutomaticSize.Y
			Para.Parent = TabPage
			
			createCorner(Para, 8)
			createStroke(Para, Theme.ElementStroke, 1, 0.85)
			
			local PTitle = Instance.new("TextLabel")
			PTitle.Name = "Title"
			PTitle.Text = ParagraphSettings.Title or "Title"
			PTitle.Font = Theme.Font
			PTitle.TextSize = 14
			PTitle.TextColor3 = Theme.Text
			PTitle.BackgroundTransparency = 1
			PTitle.Size = UDim2.new(1, -20, 0, 22)
			PTitle.Position = UDim2.new(0, 10, 0, 8)
			PTitle.TextXAlignment = Enum.TextXAlignment.Left
			PTitle.Parent = Para
			
			local PContent = Instance.new("TextLabel")
			PContent.Name = "Content"
			PContent.Text = ParagraphSettings.Content or ""
			PContent.Font = Theme.FontLight
			PContent.TextSize = 12
			PContent.TextColor3 = Theme.TextMuted
			PContent.BackgroundTransparency = 1
			PContent.Size = UDim2.new(1, -20, 0, 0)
			PContent.Position = UDim2.new(0, 10, 0, 30)
			PContent.TextXAlignment = Enum.TextXAlignment.Left
			PContent.TextYAlignment = Enum.TextYAlignment.Top
			PContent.TextWrapped = true
			PContent.AutomaticSize = Enum.AutomaticSize.Y
			PContent.Parent = Para
			
			-- Bottom padding
			local spacer = Instance.new("Frame")
			spacer.BackgroundTransparency = 1
			spacer.Size = UDim2.new(1, 0, 0, 8)
			spacer.Position = UDim2.new(0, 0, 1, 0)
			spacer.Parent = Para
			
			function pValue:Set(newSettings)
				PTitle.Text = newSettings.Title or PTitle.Text
				PContent.Text = newSettings.Content or PContent.Text
			end
			
			return pValue
		end
		
		-- â”€â”€ Button â”€â”€
		function Tab:CreateButton(ButtonSettings)
			local bValue = {}
			
			local Button, btnStroke = createElementFrame(ButtonSettings.Name, 38)
			
			local BTitle = Instance.new("TextLabel")
			BTitle.Name = "Title"
			BTitle.Text = ButtonSettings.Name or "Button"
			BTitle.Font = Theme.Font
			BTitle.TextSize = 13
			BTitle.TextColor3 = Theme.Text
			BTitle.BackgroundTransparency = 1
			BTitle.Size = UDim2.new(1, -20, 1, 0)
			BTitle.Position = UDim2.new(0, 12, 0, 0)
			BTitle.TextXAlignment = Enum.TextXAlignment.Left
			BTitle.Parent = Button
			
			-- Arrow indicator
			local Arrow = Instance.new("TextLabel")
			Arrow.Name = "Arrow"
			Arrow.Text = "â€º"
			Arrow.Font = Theme.Font
			Arrow.TextSize = 18
			Arrow.TextColor3 = Theme.TextDimmed
			Arrow.BackgroundTransparency = 1
			Arrow.Size = UDim2.new(0, 20, 1, 0)
			Arrow.Position = UDim2.new(1, -24, 0, 0)
			Arrow.Parent = Button
			
			local Interact = Instance.new("TextButton")
			Interact.Name = "Interact"
			Interact.Text = ""
			Interact.BackgroundTransparency = 1
			Interact.Size = UDim2.new(1, 0, 1, 0)
			Interact.ZIndex = Button.ZIndex + 5
			Interact.Parent = Button
			
			Interact.MouseButton1Click:Connect(function()
				-- Click animation
				quickTween(Button, 0.15, {BackgroundColor3 = Theme.Accent})
				task.wait(0.15)
				quickTween(Button, 0.3, {BackgroundColor3 = Theme.Element})
				
				local ok, err = pcall(ButtonSettings.Callback)
				if not ok then
					warn("[Axon] " .. ButtonSettings.Name .. " Callback Error: " .. tostring(err))
				end
			end)
			
			function bValue:Set(newName)
				BTitle.Text = newName
				Button.Name = newName
			end
			
			return bValue
		end
		
		-- â”€â”€ Toggle (Checkbox) â”€â”€
		function Tab:CreateToggle(ToggleSettings)
			ToggleSettings.CurrentValue = ToggleSettings.CurrentValue or false
			ToggleSettings.Type = "Toggle"
			
			local Toggle, tStroke = createElementFrame(ToggleSettings.Name, 38)
			
			local TTitle = Instance.new("TextLabel")
			TTitle.Name = "Title"
			TTitle.Text = ToggleSettings.Name or "Toggle"
			TTitle.Font = Theme.Font
			TTitle.TextSize = 13
			TTitle.TextColor3 = Theme.Text
			TTitle.BackgroundTransparency = 1
			TTitle.Size = UDim2.new(1, -50, 1, 0)
			TTitle.Position = UDim2.new(0, 12, 0, 0)
			TTitle.TextXAlignment = Enum.TextXAlignment.Left
			TTitle.Parent = Toggle
			
			-- Checkbox container
			local Checkbox = Instance.new("Frame")
			Checkbox.Name = "Checkbox"
			Checkbox.BackgroundColor3 = Theme.ToggleBg
			Checkbox.BorderSizePixel = 0
			Checkbox.Size = UDim2.new(0, 22, 0, 22)
			Checkbox.Position = UDim2.new(1, -34, 0.5, 0)
			Checkbox.AnchorPoint = Vector2.new(0, 0.5)
			Checkbox.Parent = Toggle
			
			createCorner(Checkbox, 5)
			local cbStroke = createStroke(Checkbox, Theme.ToggleOffStroke, 1.5, 0.3)
			
			-- Inner fill
			local CheckFill = Instance.new("Frame")
			CheckFill.Name = "Fill"
			CheckFill.BackgroundColor3 = Theme.ToggleOn
			CheckFill.BorderSizePixel = 0
			CheckFill.Size = UDim2.new(0, 0, 0, 0)
			CheckFill.Position = UDim2.new(0.5, 0, 0.5, 0)
			CheckFill.AnchorPoint = Vector2.new(0.5, 0.5)
			CheckFill.Parent = Checkbox
			
			createCorner(CheckFill, 3)
			createGradient(CheckFill, Theme.Accent, Theme.AccentDark, 135)
			
			-- Checkmark
			local Checkmark = Instance.new("TextLabel")
			Checkmark.Name = "Checkmark"
			Checkmark.Text = "âœ“"
			Checkmark.Font = Theme.Font
			Checkmark.TextSize = 13
			Checkmark.TextColor3 = Color3.new(1, 1, 1)
			Checkmark.BackgroundTransparency = 1
			Checkmark.Size = UDim2.new(1, 0, 1, 0)
			Checkmark.TextTransparency = 1
			Checkmark.ZIndex = CheckFill.ZIndex + 1
			Checkmark.Parent = Checkbox
			
			local function SetEnabled()
				quickTween(CheckFill, 0.35, {Size = UDim2.new(0, 16, 0, 16)}, Enum.EasingStyle.Back)
				quickTween(cbStroke, 0.3, {Color = Theme.ToggleOnStroke, Transparency = 0.2})
				quickTween(Checkmark, 0.25, {TextTransparency = 0})
			end
			
			local function SetDisabled()
				quickTween(CheckFill, 0.3, {Size = UDim2.new(0, 0, 0, 0)}, Enum.EasingStyle.Quint)
				quickTween(cbStroke, 0.3, {Color = Theme.ToggleOffStroke, Transparency = 0.3})
				quickTween(Checkmark, 0.15, {TextTransparency = 1})
			end
			
			-- Initial state
			if ToggleSettings.CurrentValue then
				CheckFill.Size = UDim2.new(0, 16, 0, 16)
				cbStroke.Color = Theme.ToggleOnStroke
				cbStroke.Transparency = 0.2
				Checkmark.TextTransparency = 0
			end
			
			local Interact = Instance.new("TextButton")
			Interact.Name = "Interact"
			Interact.Text = ""
			Interact.BackgroundTransparency = 1
			Interact.Size = UDim2.new(1, 0, 1, 0)
			Interact.ZIndex = Toggle.ZIndex + 5
			Interact.Parent = Toggle
			
			Interact.MouseButton1Click:Connect(function()
				ToggleSettings.CurrentValue = not ToggleSettings.CurrentValue
				
				if ToggleSettings.CurrentValue then
					SetEnabled()
				else
					SetDisabled()
				end
				
				local ok, err = pcall(ToggleSettings.Callback, ToggleSettings.CurrentValue)
				if not ok then
					warn("[Axon] " .. ToggleSettings.Name .. " Callback Error: " .. tostring(err))
				end
				
				SaveConfiguration()
			end)
			
			function ToggleSettings:Set(value)
				ToggleSettings.CurrentValue = value
				if value then SetEnabled() else SetDisabled() end
				pcall(ToggleSettings.Callback, value)
				SaveConfiguration()
			end
			
			if Settings.ConfigurationSaving.Enabled and ToggleSettings.Flag then
				AxonLibrary.Flags[ToggleSettings.Flag] = ToggleSettings
			end
			
			return ToggleSettings
		end
		
		-- â”€â”€ Slider â”€â”€
		function Tab:CreateSlider(SliderSettings)
			SliderSettings.CurrentValue = SliderSettings.CurrentValue or SliderSettings.Range[1]
			SliderSettings.Type = "Slider"
			
			local Slider, sStroke = createElementFrame(SliderSettings.Name, 50)
			
			local STitle = Instance.new("TextLabel")
			STitle.Name = "Title"
			STitle.Text = SliderSettings.Name or "Slider"
			STitle.Font = Theme.Font
			STitle.TextSize = 13
			STitle.TextColor3 = Theme.Text
			STitle.BackgroundTransparency = 1
			STitle.Size = UDim2.new(0.6, 0, 0, 22)
			STitle.Position = UDim2.new(0, 12, 0, 4)
			STitle.TextXAlignment = Enum.TextXAlignment.Left
			STitle.Parent = Slider
			
			local SValue = Instance.new("TextLabel")
			SValue.Name = "Value"
			SValue.Text = tostring(SliderSettings.CurrentValue) .. (SliderSettings.Suffix and (" " .. SliderSettings.Suffix) or "")
			SValue.Font = Theme.FontMono
			SValue.TextSize = 12
			SValue.TextColor3 = Theme.Accent
			SValue.BackgroundTransparency = 1
			SValue.Size = UDim2.new(0.4, -12, 0, 22)
			SValue.Position = UDim2.new(0.6, 0, 0, 4)
			SValue.TextXAlignment = Enum.TextXAlignment.Right
			SValue.Parent = Slider
			
			-- Slider track
			local Track = Instance.new("Frame")
			Track.Name = "Track"
			Track.BackgroundColor3 = Theme.SliderBg
			Track.BorderSizePixel = 0
			Track.Size = UDim2.new(1, -24, 0, 6)
			Track.Position = UDim2.new(0, 12, 0, 34)
			Track.Parent = Slider
			
			createCorner(Track, 3)
			createStroke(Track, Theme.SliderStroke, 1, 0.7)
			
			-- Progress
			local Progress = Instance.new("Frame")
			Progress.Name = "Progress"
			Progress.BackgroundColor3 = Theme.SliderProgress
			Progress.BorderSizePixel = 0
			local initialPct = (SliderSettings.CurrentValue - SliderSettings.Range[1]) / (SliderSettings.Range[2] - SliderSettings.Range[1])
			Progress.Size = UDim2.new(math.max(initialPct, 0.01), 0, 1, 0)
			Progress.Parent = Track
			
			createCorner(Progress, 3)
			createGradient(Progress, Theme.AccentDark, Theme.Accent, 0)
			
			-- Thumb
			local Thumb = Instance.new("Frame")
			Thumb.Name = "Thumb"
			Thumb.BackgroundColor3 = Theme.Text
			Thumb.BorderSizePixel = 0
			Thumb.Size = UDim2.new(0, 12, 0, 12)
			Thumb.Position = UDim2.new(math.max(initialPct, 0), -6, 0.5, 0)
			Thumb.AnchorPoint = Vector2.new(0, 0.5)
			Thumb.ZIndex = Track.ZIndex + 2
			Thumb.Parent = Track
			
			createCorner(Thumb, 6)
			
			-- Interaction
			local TrackInteract = Instance.new("TextButton")
			TrackInteract.Name = "Interact"
			TrackInteract.Text = ""
			TrackInteract.BackgroundTransparency = 1
			TrackInteract.Size = UDim2.new(1, 0, 0, 20)
			TrackInteract.Position = UDim2.new(0, 0, 0, 26)
			TrackInteract.ZIndex = Slider.ZIndex + 5
			TrackInteract.Parent = Slider
			
			local sliderDragging = false
			
			TrackInteract.InputBegan:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					sliderDragging = true
				end
			end)
			
			addConnection(UserInputService.InputEnded:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					sliderDragging = false
				end
			end))
			
			addConnection(RunService.RenderStepped:Connect(function()
				if sliderDragging then
					local mouseX = UserInputService:GetMouseLocation().X
					local trackStart = Track.AbsolutePosition.X
					local trackWidth = Track.AbsoluteSize.X
					
					local pct = math.clamp((mouseX - trackStart) / trackWidth, 0, 1)
					local rawValue = SliderSettings.Range[1] + pct * (SliderSettings.Range[2] - SliderSettings.Range[1])
					local newValue = math.floor(rawValue / SliderSettings.Increment + 0.5) * SliderSettings.Increment
					newValue = math.clamp(newValue, SliderSettings.Range[1], SliderSettings.Range[2])
					
					local finalPct = (newValue - SliderSettings.Range[1]) / (SliderSettings.Range[2] - SliderSettings.Range[1])
					
					quickTween(Progress, 0.15, {Size = UDim2.new(math.max(finalPct, 0.01), 0, 1, 0)}, Enum.EasingStyle.Quad)
					quickTween(Thumb, 0.15, {Position = UDim2.new(math.max(finalPct, 0), -6, 0.5, 0)}, Enum.EasingStyle.Quad)
					
					SValue.Text = tostring(newValue) .. (SliderSettings.Suffix and (" " .. SliderSettings.Suffix) or "")
					
					if SliderSettings.CurrentValue ~= newValue then
						SliderSettings.CurrentValue = newValue
						pcall(SliderSettings.Callback, newValue)
						SaveConfiguration()
					end
				end
			end))
			
			function SliderSettings:Set(newVal)
				newVal = math.clamp(newVal, SliderSettings.Range[1], SliderSettings.Range[2])
				SliderSettings.CurrentValue = newVal
				
				local pct = (newVal - SliderSettings.Range[1]) / (SliderSettings.Range[2] - SliderSettings.Range[1])
				quickTween(Progress, 0.3, {Size = UDim2.new(math.max(pct, 0.01), 0, 1, 0)})
				quickTween(Thumb, 0.3, {Position = UDim2.new(math.max(pct, 0), -6, 0.5, 0)})
				SValue.Text = tostring(newVal) .. (SliderSettings.Suffix and (" " .. SliderSettings.Suffix) or "")
				
				pcall(SliderSettings.Callback, newVal)
				SaveConfiguration()
			end
			
			if Settings.ConfigurationSaving.Enabled and SliderSettings.Flag then
				AxonLibrary.Flags[SliderSettings.Flag] = SliderSettings
			end
			
			return SliderSettings
		end
		
		-- â”€â”€ Input â”€â”€
		function Tab:CreateInput(InputSettings)
			InputSettings.Type = "Input"
			
			local Input, iStroke = createElementFrame(InputSettings.Name, 38)
			
			local ITitle = Instance.new("TextLabel")
			ITitle.Name = "Title"
			ITitle.Text = InputSettings.Name or "Input"
			ITitle.Font = Theme.Font
			ITitle.TextSize = 13
			ITitle.TextColor3 = Theme.Text
			ITitle.BackgroundTransparency = 1
			ITitle.Size = UDim2.new(0.5, 0, 1, 0)
			ITitle.Position = UDim2.new(0, 12, 0, 0)
			ITitle.TextXAlignment = Enum.TextXAlignment.Left
			ITitle.Parent = Input
			
			local InputBox = Instance.new("TextBox")
			InputBox.Name = "InputBox"
			InputBox.Text = InputSettings.CurrentValue or ""
			InputBox.PlaceholderText = InputSettings.PlaceholderText or "Enter..."
			InputBox.Font = Theme.FontLight
			InputBox.TextSize = 12
			InputBox.TextColor3 = Theme.Text
			InputBox.PlaceholderColor3 = Theme.Placeholder
			InputBox.BackgroundColor3 = Theme.InputBg
			InputBox.BorderSizePixel = 0
			InputBox.Size = UDim2.new(0.45, -12, 0, 26)
			InputBox.Position = UDim2.new(0.55, 0, 0.5, 0)
			InputBox.AnchorPoint = Vector2.new(0, 0.5)
			InputBox.ClearTextOnFocus = false
			InputBox.ClipsDescendants = true
			InputBox.Parent = Input
			
			createCorner(InputBox, 5)
			createStroke(InputBox, Theme.InputStroke, 1, 0.6)
			createPadding(InputBox, 0, 0, 8, 8)
			
			InputBox.FocusLost:Connect(function()
				InputSettings.CurrentValue = InputBox.Text
				pcall(InputSettings.Callback, InputBox.Text)
				if InputSettings.RemoveTextAfterFocusLost then
					InputBox.Text = ""
				end
				SaveConfiguration()
			end)
			
			function InputSettings:Set(text)
				InputBox.Text = text
				InputSettings.CurrentValue = text
				pcall(InputSettings.Callback, text)
				SaveConfiguration()
			end
			
			if Settings.ConfigurationSaving.Enabled and InputSettings.Flag then
				AxonLibrary.Flags[InputSettings.Flag] = InputSettings
			end
			
			return InputSettings
		end
		
		-- â”€â”€ Keybind â”€â”€
		function Tab:CreateKeybind(KeybindSettings)
			KeybindSettings.Type = "Keybind"
			KeybindSettings.CurrentKeybind = KeybindSettings.CurrentKeybind or "None"
			
			local Keybind, kStroke = createElementFrame(KeybindSettings.Name, 38)
			
			local KTitle = Instance.new("TextLabel")
			KTitle.Name = "Title"
			KTitle.Text = KeybindSettings.Name or "Keybind"
			KTitle.Font = Theme.Font
			KTitle.TextSize = 13
			KTitle.TextColor3 = Theme.Text
			KTitle.BackgroundTransparency = 1
			KTitle.Size = UDim2.new(0.6, 0, 1, 0)
			KTitle.Position = UDim2.new(0, 12, 0, 0)
			KTitle.TextXAlignment = Enum.TextXAlignment.Left
			KTitle.Parent = Keybind
			
			local KeyBox = Instance.new("TextBox")
			KeyBox.Name = "KeyBox"
			KeyBox.Text = KeybindSettings.CurrentKeybind
			KeyBox.Font = Theme.FontMono
			KeyBox.TextSize = 12
			KeyBox.TextColor3 = Theme.Accent
			KeyBox.BackgroundColor3 = Theme.InputBg
			KeyBox.BorderSizePixel = 0
			KeyBox.Size = UDim2.new(0, 60, 0, 26)
			KeyBox.Position = UDim2.new(1, -72, 0.5, 0)
			KeyBox.AnchorPoint = Vector2.new(0, 0.5)
			KeyBox.ClearTextOnFocus = true
			KeyBox.TextXAlignment = Enum.TextXAlignment.Center
			KeyBox.Parent = Keybind
			
			createCorner(KeyBox, 5)
			createStroke(KeyBox, Theme.InputStroke, 1, 0.6)
			
			local CheckingForKey = false
			
			KeyBox.Focused:Connect(function()
				CheckingForKey = true
				KeyBox.Text = "..."
				quickTween(KeyBox, 0.2, {BackgroundColor3 = Theme.ElementHover})
			end)
			
			KeyBox.FocusLost:Connect(function()
				CheckingForKey = false
				if KeyBox.Text == "..." or KeyBox.Text == "" then
					KeyBox.Text = KeybindSettings.CurrentKeybind
				end
				quickTween(KeyBox, 0.2, {BackgroundColor3 = Theme.InputBg})
			end)
			
			addConnection(UserInputService.InputBegan:Connect(function(input, processed)
				if CheckingForKey then
					if input.KeyCode ~= Enum.KeyCode.Unknown then
						local keyName = input.KeyCode.Name
						KeyBox.Text = keyName
						KeybindSettings.CurrentKeybind = keyName
						KeyBox:ReleaseFocus()
						SaveConfiguration()
						
						if KeybindSettings.CallOnChange then
							pcall(KeybindSettings.Callback, keyName)
						end
					end
				elseif not KeybindSettings.CallOnChange and not processed then
					if KeybindSettings.CurrentKeybind ~= "None" then
						local ok, keyCode = pcall(function() return Enum.KeyCode[KeybindSettings.CurrentKeybind] end)
						if ok and input.KeyCode == keyCode then
							pcall(KeybindSettings.Callback, KeybindSettings.CurrentKeybind)
						end
					end
				end
			end))
			
			function KeybindSettings:Set(newKey)
				KeybindSettings.CurrentKeybind = tostring(newKey)
				KeyBox.Text = tostring(newKey)
				KeyBox:ReleaseFocus()
				SaveConfiguration()
			end
			
			if Settings.ConfigurationSaving.Enabled and KeybindSettings.Flag then
				AxonLibrary.Flags[KeybindSettings.Flag] = KeybindSettings
			end
			
			return KeybindSettings
		end
		
		-- â”€â”€ Dropdown â”€â”€
		function Tab:CreateDropdown(DropdownSettings)
			DropdownSettings.Type = "Dropdown"
			DropdownSettings.Options = DropdownSettings.Options or {}
			
			if type(DropdownSettings.CurrentOption) == "string" then
				DropdownSettings.CurrentOption = {DropdownSettings.CurrentOption}
			end
			DropdownSettings.CurrentOption = DropdownSettings.CurrentOption or {}
			
			local isOpen = false
			local Dropdown, dStroke = createElementFrame(DropdownSettings.Name, 38)
			
			local DTitle = Instance.new("TextLabel")
			DTitle.Name = "Title"
			DTitle.Text = DropdownSettings.Name or "Dropdown"
			DTitle.Font = Theme.Font
			DTitle.TextSize = 13
			DTitle.TextColor3 = Theme.Text
			DTitle.BackgroundTransparency = 1
			DTitle.Size = UDim2.new(0.5, 0, 0, 38)
			DTitle.Position = UDim2.new(0, 12, 0, 0)
			DTitle.TextXAlignment = Enum.TextXAlignment.Left
			DTitle.Parent = Dropdown
			
			local selectedText = #DropdownSettings.CurrentOption == 0 and "None" 
				or #DropdownSettings.CurrentOption == 1 and DropdownSettings.CurrentOption[1] 
				or "Various"
			
			local DSelected = Instance.new("TextLabel")
			DSelected.Name = "Selected"
			DSelected.Text = selectedText
			DSelected.Font = Theme.FontLight
			DSelected.TextSize = 12
			DSelected.TextColor3 = Theme.TextMuted
			DSelected.BackgroundTransparency = 1
			DSelected.Size = UDim2.new(0.4, -30, 0, 38)
			DSelected.Position = UDim2.new(0.5, 0, 0, 0)
			DSelected.TextXAlignment = Enum.TextXAlignment.Right
			DSelected.TextTruncate = Enum.TextTruncate.AtEnd
			DSelected.Parent = Dropdown
			
			-- Arrow
			local DArrow = Instance.new("TextLabel")
			DArrow.Name = "Arrow"
			DArrow.Text = "â–¾"
			DArrow.Font = Theme.Font
			DArrow.TextSize = 14
			DArrow.TextColor3 = Theme.TextDimmed
			DArrow.BackgroundTransparency = 1
			DArrow.Size = UDim2.new(0, 20, 0, 38)
			DArrow.Position = UDim2.new(1, -24, 0, 0)
			DArrow.Parent = Dropdown
			
			-- Options list
			local OptionList = Instance.new("Frame")
			OptionList.Name = "OptionList"
			OptionList.BackgroundTransparency = 1
			OptionList.Size = UDim2.new(1, -16, 0, 0)
			OptionList.Position = UDim2.new(0, 8, 0, 42)
			OptionList.ClipsDescendants = true
			OptionList.Visible = false
			OptionList.AutomaticSize = Enum.AutomaticSize.Y
			OptionList.Parent = Dropdown
			
			createListLayout(OptionList, 3)
			
			local function updateSelectedText()
				if #DropdownSettings.CurrentOption == 0 then
					DSelected.Text = "None"
				elseif #DropdownSettings.CurrentOption == 1 then
					DSelected.Text = DropdownSettings.CurrentOption[1]
				else
					DSelected.Text = "Various"
				end
			end
			
			local function createOption(optionName)
				local Opt = Instance.new("TextButton")
				Opt.Name = optionName
				Opt.Text = ""
				Opt.BackgroundColor3 = table.find(DropdownSettings.CurrentOption, optionName) and Theme.DropdownSelected or Theme.DropdownUnselected
				Opt.BorderSizePixel = 0
				Opt.Size = UDim2.new(1, 0, 0, 28)
				Opt.AutoButtonColor = false
				Opt.Parent = OptionList
				
				createCorner(Opt, 5)
				local optStroke = createStroke(Opt, Theme.ElementStroke, 1, 0.85)
				
				local OptTitle = Instance.new("TextLabel")
				OptTitle.Text = optionName
				OptTitle.Font = Theme.FontLight
				OptTitle.TextSize = 12
				OptTitle.TextColor3 = Theme.Text
				OptTitle.BackgroundTransparency = 1
				OptTitle.Size = UDim2.new(1, -16, 1, 0)
				OptTitle.Position = UDim2.new(0, 8, 0, 0)
				OptTitle.TextXAlignment = Enum.TextXAlignment.Left
				OptTitle.Parent = Opt
				
				-- Selected indicator
				local OptCheck = Instance.new("TextLabel")
				OptCheck.Name = "Check"
				OptCheck.Text = table.find(DropdownSettings.CurrentOption, optionName) and "âœ“" or ""
				OptCheck.Font = Theme.Font
				OptCheck.TextSize = 12
				OptCheck.TextColor3 = Theme.Accent
				OptCheck.BackgroundTransparency = 1
				OptCheck.Size = UDim2.new(0, 20, 1, 0)
				OptCheck.Position = UDim2.new(1, -24, 0, 0)
				OptCheck.Parent = Opt
				
				Opt.MouseButton1Click:Connect(function()
					if DropdownSettings.MultipleOptions then
						local idx = table.find(DropdownSettings.CurrentOption, optionName)
						if idx then
							table.remove(DropdownSettings.CurrentOption, idx)
							quickTween(Opt, 0.2, {BackgroundColor3 = Theme.DropdownUnselected})
							OptCheck.Text = ""
						else
							table.insert(DropdownSettings.CurrentOption, optionName)
							quickTween(Opt, 0.2, {BackgroundColor3 = Theme.DropdownSelected})
							OptCheck.Text = "âœ“"
						end
					else
						if table.find(DropdownSettings.CurrentOption, optionName) then return end
						table.clear(DropdownSettings.CurrentOption)
						table.insert(DropdownSettings.CurrentOption, optionName)
						
						-- Update all options visuals
						for _, child in ipairs(OptionList:GetChildren()) do
							if child:IsA("TextButton") then
								if child.Name == optionName then
									quickTween(child, 0.2, {BackgroundColor3 = Theme.DropdownSelected})
									child.Check.Text = "âœ“"
								else
									quickTween(child, 0.2, {BackgroundColor3 = Theme.DropdownUnselected})
									child.Check.Text = ""
								end
							end
						end
						
						-- Close after single select
						task.wait(0.15)
						isOpen = false
						OptionList.Visible = false
						quickTween(Dropdown, 0.4, {Size = UDim2.new(1, 0, 0, 38)})
						DArrow.Text = "â–¾"
					end
					
					updateSelectedText()
					pcall(DropdownSettings.Callback, DropdownSettings.CurrentOption)
					SaveConfiguration()
				end)
				
				Opt.MouseEnter:Connect(function()
					quickTween(Opt, 0.2, {BackgroundColor3 = Theme.ElementHover})
				end)
				
				Opt.MouseLeave:Connect(function()
					local isSelected = table.find(DropdownSettings.CurrentOption, optionName)
					quickTween(Opt, 0.2, {BackgroundColor3 = isSelected and Theme.DropdownSelected or Theme.DropdownUnselected})
				end)
			end
			
			-- Build options
			local function buildOptions()
				for _, child in ipairs(OptionList:GetChildren()) do
					if child:IsA("TextButton") then child:Destroy() end
				end
				for _, opt in ipairs(DropdownSettings.Options) do
					createOption(opt)
				end
			end
			buildOptions()
			
			-- Toggle dropdown
			local Interact = Instance.new("TextButton")
			Interact.Name = "Interact"
			Interact.Text = ""
			Interact.BackgroundTransparency = 1
			Interact.Size = UDim2.new(1, 0, 0, 38)
			Interact.ZIndex = Dropdown.ZIndex + 5
			Interact.Parent = Dropdown
			
			Interact.MouseButton1Click:Connect(function()
				isOpen = not isOpen
				
				if isOpen then
					local optCount = #DropdownSettings.Options
					local listHeight = optCount * 31
					OptionList.Visible = true
					quickTween(Dropdown, 0.4, {Size = UDim2.new(1, 0, 0, 38 + 8 + math.min(listHeight, 150))})
					DArrow.Text = "â–´"
				else
					quickTween(Dropdown, 0.4, {Size = UDim2.new(1, 0, 0, 38)})
					task.wait(0.35)
					OptionList.Visible = false
					DArrow.Text = "â–¾"
				end
			end)
			
			function DropdownSettings:Set(newOption)
				if type(newOption) == "string" then newOption = {newOption} end
				DropdownSettings.CurrentOption = newOption
				updateSelectedText()
				
				-- Update visuals
				for _, child in ipairs(OptionList:GetChildren()) do
					if child:IsA("TextButton") then
						local isSelected = table.find(newOption, child.Name)
						child.BackgroundColor3 = isSelected and Theme.DropdownSelected or Theme.DropdownUnselected
						child.Check.Text = isSelected and "âœ“" or ""
					end
				end
				
				pcall(DropdownSettings.Callback, newOption)
				SaveConfiguration()
			end
			
			function DropdownSettings:Refresh(newOptions)
				DropdownSettings.Options = newOptions
				buildOptions()
			end
			
			if Settings.ConfigurationSaving.Enabled and DropdownSettings.Flag then
				AxonLibrary.Flags[DropdownSettings.Flag] = DropdownSettings
			end
			
			return DropdownSettings
		end
		
		return Tab
	end
	
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	-- WINDOW METHODS
	-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
	
	function Window:SetVisibility(visible)
		if visible then ShowWindow() else HideWindow() end
	end
	
	function Window:Destroy()
		for _, conn in ipairs(Connections) do
			pcall(function() conn:Disconnect() end)
		end
		ScreenGui:Destroy()
		if NotificationHolder then NotificationHolder:Destroy() end
	end
	
	function Window:Notify(data)
		AxonLibrary:Notify(data)
	end
	
	table.insert(AxonLibrary.Windows, Window)
	return Window
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- GLOBAL DESTROY
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function AxonLibrary:Destroy()
	for _, conn in ipairs(Connections) do
		pcall(function() conn:Disconnect() end)
	end
	for _, win in ipairs(self.Windows) do
		pcall(function() win:Destroy() end)
	end
end

return AxonLibrary
